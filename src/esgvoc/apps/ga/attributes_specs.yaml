# Global Attributes Specifications for NetCDF Files
# Converted from JSON global_attributes_specs structure
# This file defines validation rules for global attributes in netCDF files

project_id: "cmip6"
description: "Global attributes specifications for CMIP6 project"

# Global attribute specifications
specs:
  # Core identification attributes
  Conventions:
    source_collection: "conventions"
    value_type: "string"
    required: true
    description: "CF conventions version (e.g., CF-1.7 CMIP-6.2)"
  
  activity_id:
    source_collection: "activity_id"
    value_type: "string"
    required: true
    description: "Activity identifier (e.g., CMIP, PMIP, scenarioMIP)"
  
  creation_date:
    source_collection: "creation_date"
    value_type: "string"
    required: true
    description: "Date the file was created (ISO 8601 format)"
  
  data_specs_version:
    source_collection: "data_specs_version"
    value_type: "string"
    required: true
    description: "Version label for CV requirements"
  
  experiment_id:
    source_collection: "experiment_id"
    value_type: "string"
    required: true
    description: "Short label identifying the experiment"
  
  # Experiment details (using specific_key for descriptions)
  experiment:
    source_collection: "experiment_id"
    specific_key: "description"
    value_type: "string"
    required: false
    description: "Full description of the experiment"
  
  # Index attributes
  forcing_index:
    source_collection: "forcing_index"
    value_type: "integer"
    required: true
    description: "Index identifying variant of forcing"
  
  frequency:
    source_collection: "frequency"
    value_type: "string"
    required: true
    description: "Reporting frequency (e.g., mon, day, 3hr)"
  
  further_info_url:
    source_collection: "further_info_url"
    value_type: "string"
    required: false
    description: "URL for further information about the dataset"
  
  # Grid attributes
  grid_label:
    source_collection: "grid_label"
    value_type: "string"
    required: true
    description: "Label assigned to each grid"
  
  grid:
    source_collection: "grid_label"
    specific_key: "description"
    value_type: "string"
    required: false
    description: "Description of the grid"
  
  initialization_index:
    source_collection: "initialization_index"
    value_type: "integer"
    required: true
    description: "Index identifying variant of initialization"
  
  # Institution attributes
  institution_id:
    source_collection: "institution_id"
    value_type: "string"
    required: true
    description: "Institution identifier"
  
  institution:
    source_collection: "institution_id"
    specific_key: "description"
    value_type: "string"
    required: false
    description: "Full institution name and details"
  
  license:
    source_collection: "license"
    value_type: "string"
    specific_key : "license"
    required: false
    description: "License information for the data"
  
  mip_era:
    source_collection: "mip_era"
    value_type: "string"
    required: true
    description: "MIP era (e.g., CMIP6)"
  
  nominal_resolution:
    source_collection: "nominal_resolution"
    value_type: "string"
    required: true
    description: "Approximate horizontal resolution"
  
  physics_index:
    source_collection: "physics_index"
    value_type: "integer"
    required: true
    description: "Index distinguishing physics variants"
  
  # Product attributes
  product:
    source_collection: "product"
    value_type: "string"
    default_value: "model_output"
    required: false
    description: "Product type"
  
  realization_index:
    source_collection: "realization_index"
    value_type: "integer"
    required: true
    description: "Index distinguishing ensemble members"
  
  realm:
    source_collection: "realm"
    value_type: "string"
    required: false
    description: "Realm or realms most closely associated with variable"
  
  # Source attributes
  source_id:
    source_collection: "source_id"
    value_type: "string"
    required: true
    description: "Name of the source of the data"
  
  source:
    source_collection: "source_id"
    specific_key: "label_extended"
    value_type: "string"
    required: false
    description: "Extended source description"
  
  source_type:
    source_collection: "source_type"
    value_type: "string"
    required: false
    description: "Type of source (e.g., AOGCM, AGCM)"
  
  # Sub-experiment attributes
  sub_experiment_id:
    source_collection: "sub_experiment_id"
    value_type: "string"
    required: false
    description: "Sub-experiment identifier"
  
  sub_experiment:
    source_collection: "sub_experiment_id"
    specific_key: "description"
    value_type: "string"
    required: false
    description: "Sub-experiment description"
  
  table_id:
    source_collection: "table_id"
    value_type: "string"
    required: true
    description: "Table identifier (e.g., Amon, Lmon, Omon)"
  
  tracking_id:
    source_collection: "tracking_id"
    value_type: "string"
    required: true
    description: "Unique tracking identifier for the file"
  
  variable_id:
    source_collection: "variable_id"
    value_type: "string"
    required: true
    description: "Variable identifier (e.g., tas, pr, ua)"
  
  variant_label:
    source_collection: "variant_label"
    value_type: "string"
    required: true
    description: "Compound label distinguishing ensemble variants"


